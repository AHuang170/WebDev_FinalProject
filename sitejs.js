var gs_Iron_Sword_Path = [
    [{type: 'node', name:'Iron Sword', rarity: 1, attack: 288, ele_type: "No Element", ele_val: "", num_slot : "---", affinity: "0%", flavour:"A weapon that even novice hunters can use. Charge up for a more powerful slash.", upgrade:[], craft:["750z", "Iron Ore", 3], shop: "1500z", sharp:"Img/Weap/gs/Iron_Sword/base_sharp.png", p_sharp:"Img/Weap/gs/Iron_Sword/plus_sharp.png", pic:'Img/Weap/gs/Iron_Sword/render.png', parent:[], playstyle: "Blademaster", extra: ""}],
    [{type: 'connector', pic: "Img/connector_5.png"}],
    [{type: 'node', name: 'Iron Sword+', rarity: 1, attack: 336, ele_type: "No Element", ele_val: "", num_slot: "---", affinity: "0%", flavour: "A weapon that even novice hunters can use. Charge up for a more powerful slash.", upgrade: ["650z", "Iron Ore", 5], craft: [], shop: "N/A", sharp: "Img/Weap/gs/Iron_Sword+/base_sharp.png", p_sharp: "Img/Weap/gs/Iron_Sword+/plus_sharp.png", pic: "Img/Weap/gs/Iron_Sword+/render.png", parent: ["Iron Sword", 0, 0], playstyle: "Blademaster", extra: ""}],
    [{type: "connector", pic: "Img/connector_2.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_4.png"}],
    [{type: 'node', name: 'Buster Sword', rarity: 1, attack: 384, ele_type: "No Element", ele_val: "", num_slot: "---", affinity: "0%", flavour: "A strong blade made from high-purity iron. A popular choice among hunters.", upgrade: ["850z", "Machalite Ore", 2, "Iron Ore", 8], craft: [], shop: "N/A", sharp:"Img/Weap/gs/Buster_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Buster_Sword/plus_sharp.png", pic: "Img/Weap/gs/Buster_Sword/render.png", parent: ["Iron Sword+", 0, 2], playstyle: "Blademaster", extra: ""}, {type: "blank"}, {type: "blank"}, {type: "blank"}, {type: "blank"}, 
    {type: "node", name: "Rugged Great Sword", rarity: 1, attack: 480, ele_type: "No Element", ele_val: "", num_slot: "---", affinity: "0%", flavour: "A blade made of the Jaggi's colorful hide. Standard gear for hunters in some regions.", upgrade: ["1400z", "G. Jaggi Claw", 4, "Jaggi Hide", 8, "Machalite Ore", 3], craft: ["2100z", "G. Jaggi Claw", 6, "G. Jaggi Hide", 3, "Machalite Ore", 6], shop: "N/A", sharp: "Img/Weap/gs/Rugged_Great_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Rugged_Great_Sword/plus_sharp.png", pic: "Img/Weap/gs/Rugged_Great_Sword/render.png", parent: ["Iron Sword+", 0, 2], playstyle: "Blademaster", extra: ""}],
    [{type: "connector", pic: "Img/connector_2.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_4.png"}, {type: "blank"}, {type: "connector", pic: "Img/connector_2.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_3.png"}, {type: "connector", pic: "Img/connector_4.png"}],
    [{type: 'node', name: 'Buster Sword+', rarity: 2, attack: 480, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '0%', flavour: 'A strong blade made from high-purity iron. A popular choice among hunters.', upgrade: ["1400z", "Machalite Ore", 5, "Earth Crystal", 2, "Iron Ore", 5], craft: [], shop: 'N/A', sharp: 'Img/Weap/gs/Buster_Sword+/base_sharp.png', p_sharp: 'Img/Weap/gs/Buster_Sword+/plus_sharp.png', pic: 'Img/Weap/gs/Buster_Sword+/render.png', parent: ["Buster Sword", 0, 4], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'blank'},
    {type: 'node', name: 'Santoku Reaver', rarity: 2, attack: 624, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '-10%', flavour: 'A blade made of sharpened Tetsucabra shell. The whorls on the blade affect value.', upgrade: ["2150z", "Tetsucabra Claw", 2, "Tetsucabra Shell", 2, "Machalite Ore", 2], craft: ["3225z", "Tetsucabra Claw", 3, "Tetsucabra Shell", 3, "Tetsucabra Tusks", 2, "Machalite Ore", 5], shop: 'N/A', sharp: 'Img/Weap/gs/Santoku_Reaver/base_sharp.png', p_sharp: 'Img/Weap/gs/Santoku_Reaver/plus_sharp.png', pic: 'Img/Weap/gs/Santoku_Reaver/render.png', parent: ["Buster Sword", 0, 4], playstyle: 'Blademaster', extra: ''}, {type: 'blank'},
    {type: 'node', name: "Chieftain's Great Sword", rarity: 2, attack: 528, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '0%', flavour: "A blade made of the Jaggi's colorful hide. Standard gear for hunters in some regions.", upgrade: ["1400z", "King's Frill", 4, "G. Jaggi Hide", 5, "Kecha Pelt", 5], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Chieftain's_Great_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Chieftain's_Great_Sword/plus_sharp.png", pic: "Img/Weap/gs/Chieftain's_Great_Sword/render.png", parent: ["Rugged Great Sword", 5, 4], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'blank'}, {type: 'blank'},
    {type: 'node', name: "Ludroth Bone Sword", rarity: 2, attack: 480, ele_type: 'Water', ele_val: '230', num_slot: '---', affinity: '0%', flavour: "A blade reinforced with Ludroth parts. A good base level for further upgrading", upgrade: ["1750z", "Spongy Hide", 1, "Monster Fluid", 2, "Monster Bone S", 3], craft: ["2625z", "Royal Ludroth Claw", 2, "Spongy Hide", 2, "Monster Fluid", 2, "Monster Bone M", 2], shop: 'N/A', sharp: "Img/Weap/gs/Ludroth_Bone_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Ludroth_Bone_Sword/plus_sharp.png", pic: "Img/Weap/gs/Ludroth_Bone_Sword/render.png", parent: ["Rugged Great Sword", 5, 4], playstyle: 'Blademaster', extra: ''}],
    [{type: 'connector', pic: 'Img/connector_2.png'}, {type: 'connector', pic: 'Img/connector_3.png'}, {type: 'connector', pic: 'Img/connector_4.png'}, {type: 'connector', pic: 'Img/connector_2.png'}, {type: 'connector', pic: 'Img/connector_4.png'}, {type: 'connector', pic: 'Img/connector_2.png'}, {type: 'connector', pic: 'Img/connector_4.png'}, {type: 'blank'}, {type: 'blank'}, {type: 'connector', pic: 'Img/connector_5.png'}],
    [{type: 'node', name: "Ravager Blade", rarity: 2, attack: 528, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '0%', flavour: "A fearsome steel sword with giant, talon-like spikes that protrudes from its blade.", upgrade: ["1750z", "Dragonite Ore", 3, "Machalite Ore", 5, "Earth Crystal", 2, "Iron Ore", 5], craft: [], shop: '5250z', sharp: "Img/Weap/gs/Ravager_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Ravager_Blade/plus_sharp.png", pic: "Img/Weap/gs/Ravager_Blade/render.png", parent: ["Buster Sword+", 0, 6], playstyle: 'Blademaster', extra: 'Defense +10'}, {type: 'blank'}, 
    {type: 'node', name: "Khezu Shock Sword", rarity: 2, attack: 528, ele_type: 'Thunder', ele_val: '250', num_slot: '---', affinity: '0%', flavour: "A sword clad in elemental material, which electrifies the blade.", upgrade: ["4250z", "Flabby Hide", 3, "Electro Sac", 2, "Iron Ore", 15], craft: ["6375z", "Flabby Hide", 5, "Electro Sac", 4, "Iron Ore", 15, "Thunderbug", 10], shop: 'N/A', sharp: "Img/Weap/gs/Khezu_Shock_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Khezu_Shock_Sword/plus_sharp.png", pic: "Img/Weap/gs/Khezu_Shock_Sword/render.png", parent: ["Buster Sword+", 0, 6], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Funayuki Reaver", rarity: 3, attack: 720, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '-10%', flavour: "A blade made of sharpened Tetsucabra shell. The whorls on the blade affect value.", upgrade: ["6350z", "Tetsucabra Claw", 5, "Dignified Skull", 2, "Paddock Oil", 2, "Firestone", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Funayuki_Reaver/base_sharp.png", p_sharp: "Img/Weap/gs/Funayuki_Reaver/plus_sharp.png", pic: "Img/Weap/gs/Funayuki_Reaver/render.png", parent: ["Santoku Reaver", 3, 6], playstyle: 'Blademaster', extra: ''}, 
    {type: 'node', name: "Brazenwall", rarity: 3, attack: 768, ele_type: 'No Element', ele_val: '', num_slot: '---', affinity: '0%', flavour: "A shining gold blade. Its super-hard edge makes it versatile but hard to wield.", upgrade: ["7150z", "Uragaan Scute", 3, "Gravios Wing", 4, "Monster Bone+", 10], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Brazenwall/base_sharp.png", p_sharp: "Img/Weap/gs/Brazenwall/plus_sharp.png", pic: "Img/Weap/gs/Brazenwall/render.png", parent: ["Santoku Reaver", 3, 6], playstyle: 'Blademaster', extra: 'Defense +20'}, {type: 'node', name: "Schattenstolz", rarity: 3, attack: 576, ele_type: 'Dragon', ele_val: '150', num_slot: 'O--', affinity: '25%', flavour: "A jet black, evil blade made during the Magala eclipse. Inflicts deathly banishment.", upgrade: ["8000z", "Gore Magala Ripclaw", 2, "Gore Magala Shell", 4, "Gore Magala Wing", 2, "Defiled Scale", 3], craft: ["12000z", "Gore Magala Ripclaw", 3, "Gore Magala Shell", 5, "Gore Magala Wing", 3, "Gore Magala Plate", 1], shop: 'N/A', sharp: "Img/Weap/gs/Schattenstolz/base_sharp.png", p_sharp: "Img/Weap/gs/Schattenstolz/plus_sharp.png", pic: "Img/Weap/gs/Schattenstolz/render.png", parent: ["Chieftain's Great Sword", 5, 6], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Usurper's Storm", rarity: 3, attack: 672, ele_type: 'Thunder', ele_val: '120', num_slot: 'O--', affinity: '0&', flavour: "A weapon of indelible strength and character. Its might cannot be overstated.", upgrade: ["8900z", "Zinogre Shell", 3, "Zinogre Horn", 2, "Zinogre Shocker", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Usurper's_Storm/base_sharp.png", p_sharp: "Img/Weap/gs/Usurper's_Storm/plus_sharp.png", pic: "Img/Weap/gs/Usurper's_Storm/render.png", parent: ["Chieftain's Great Sword", 5, 6], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'blank'},
    {type: 'node', name: "Ludroth Bone Sword+", rarity: 2, attack: 528, ele_type: 'Water', ele_val: '300', num_slot: '---', affinity: '0%', flavour: "A blade reinforced with Ludroth parts. A good base level for further upgrading.", upgrade: ["3100z", "Spongy Hide", 2, "Nerscylla Claw", 4, "Monster Bone M", 2, "Aqua Sac", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Ludroth_Bone_Sword+/base_sharp.png", p_sharp: "Img/Weap/gs/Ludroth_Bone_Sword+/plus_sharp.png", pic: "Img/Weap/gs/Ludroth_Bone_Sword+/render.png", parent: ["Ludroth Bone Sword", 9, 6], playstyle: 'Blademaster', extra: ''}],
    [{type: 'connector', pic: 'Img/connector_5.png'}, {type: 'blank'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'blank'}, {type: 'blank'}, {type: 'connector', pic: 'Img/connector_5.png'}],
    [{type: 'node', name: "Ravager Blade+", rarity: 3, attack: 624, ele_type: 'No Element', ele_val: '', num_slot: 'O--', affinity: '0%', flavour: "A fearsome steel sword with giant, talon-like spikes that protrude from its blade.", upgrade: ["6350z", "Firestone", 2, "Dragonite Ore", 10, "Gossamite Ore", 2], craft: ["9525z", "Firestone", 3, "Dragonite Ore", 15, "Gossamite Ore", 3, "Machalite Ore", 10], shop: 'N/A', sharp: "Img/Weap/gs/Ravager_Blade+/base_sharp.png", p_sharp: "Img/Weap/gs/Ravager_Blade+/plus_sharp.png", pic: "Img/Weap/gs/Ravager_Blade+/render.png", parent: ["Ravager Blade", 0, 8], playstyle: 'Blademaster', extra: 'Defense +15'}, {type: 'blank'}, {type: 'node', name: "Khezu Shock Blade", rarity: 5, attack: 720, ele_type: 'Thunder', ele_val: '350', num_slot: 'O--', affinity: '0%', flavour: "A sword clad in elemental material, which electrifies the blade.", upgrade: ["30000z", "Pearl Hide", 8, "Thunder Sac", 2, "Rubbery Hide+", 5], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Khezu_Shock_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Khezu_Shock_Blade/plus_sharp.png", pic: "Img/Weap/gs/Khezu_Shock_Blade/render.png", parent: ["Khezu Shock Sword", 2, 8], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Toad Bereaver", rarity: 4, attack: 864, ele_type: '(A)Water', ele_val: '200', num_slot: '---', affinity: '-20%', flavour: "Almost too strange-looking to be called a Great Sword. This weapon REALLY cooks.", upgrade: ["20000s", "Tetsucabra Claw+", 4, "Tetsucabra Carapace", 5, "Carbalite Ore", 4], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Toad_Bereaver/base_sharp.png", p_sharp: "Img/Weap/gs/Toad_Bereaver/plus_sharp.png", pic: "Img/Weap/gs/Toad_Bereaver/render.png", parent: ["Funayuki Reaver", 3, 8], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Crimsonwall", rarity: 5, attack: 960, ele_type: '(A)Fire', ele_val: '150', num_slot: 'O--', affinity: '0%', flavour: "A shining gold blade. Its super-hard edge makes it versatile but hard to wield.", upgrade: ["30000z", "Uragaan Scute", 4, "Uragaan Marrow", 3, "Gravios Carapace", 8, "Fulcium Ore", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Crimsonwall/base_sharp.png", p_sharp: "Img/Weap/gs/Crimsonwall/plus_sharp.png", pic: "Img/Weap/gs/Crimsonwall/render.png", parent: ["Brazenwall", 4, 8], playstyle: 'Blademaster', extra: 'Defense +25'}, {type: 'node', name: "Dusterstolz", rarity: 4, attack: 624, ele_type: 'Dragon', ele_val: '200', num_slot: 'O--', affinity: '35%', flavour: "A jet black, evil blade made during the Magala eclipse. Inflicts deathly banishment.", upgrade: ["12000z", "Gore Magala Scale", 5, "S. Magala Scale", 2, "S. Magala Shell", 4, "S. Magala Tail", 2], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Dusterstolz/base_sharp.png", p_sharp: "Img/Weap/gs/Dusterstolz/plus_sharp.png", pic: "Img/Weap/gs/Dusterstolz/render.png", parent: ["Shattenstolz", 5, 8], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Despot's Blackstorm", rarity: 5, attack: 768, ele_type: 'Thunder', ele_val: '220', num_slot: 'O--', affinity: '0%', flavour: "A weapon of indelible strength and character. Its might cannot be overstated.", upgrade: ["30000z", "Zinogre Carapace", 5, "Zinogre Horn+", 2, "Zinogre Shocker+", 4, "Zinogre Plate", 1], craft: ["45000z", "Zinogre Carapace", 8, "Zinogre Horn+", 2, "Zinogre Jasper", 1], shop: 'N/A', sharp: "Img/Weap/gs/Despot's_Blackstorm/base_sharp.png", p_sharp: "Img/Weap/gs/Despot's_Blackstorm/plus_sharp.png", pic: "Img/Weap/gs/Despot's_Blackstorm/render.png", parent: ["Usurper's Storm", 6, 8], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'blank'}, {type: 'node', name: "Cataclysm Sword", rarity: 4, attack: 720, ele_type: 'Water', ele_val: '340', num_slot: 'O--', affinity: '0%', flavour: "A blade of absorbent sponge. Its pressurized water can break through tough shells.", upgrade: ["20000z", "Royal Ludroth Claw", 4, "Torrent Sac", 2, "Kecha Ear+", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cataclysm_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Cataclysm_Sword/plus_sharp.png", pic: "Img/Weap/gs/Cataclysm_Sword/render.png", parent: ["Ludroth Bone Sword+", 9, 8], playstyle: 'Blademaster', extra: ''}], 
    [{type: 'connector', pic: 'Img/connector_2.png'}, {type: 'connector', pic: 'Img/connector_4.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_2.png'}, {type: 'connector', pic: 'Img/connector_1.png'}, {type: 'connector', pic: 'Img/connector_4.png'}, {type: 'connector', pic: 'Img/connector_5.png'}],
    [{type: 'node', name: "Lacerator Blade", rarity: 4, attack: 720, ele_type: '(A)Fire', ele_val: '250', num_slot: 'OO-', affinity: '5%', flavour: "The pinnacle of the Ravager Blade family. Those who wield it will never know fear.", upgrade: ["20000z", "Carbalite Ore", 5, "Lightcrystal", 4, "Hercudrome", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Lacerator_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Lacerator_Blade/plus_sharp.png", pic: "Img/Weap/gs/Lacerator_Blade/render.png", parent: ["Ravager Bade+", 0, 10], playstyle: 'Blademaster', extra: 'Defense +20'}, {type: 'node', name: "Chrome Razor", rarity: 4, attack: 720, ele_type: 'Poison', ele_val: '300', num_slot: 'O--', affinity: '15%', flavour: "A strong, razor-sharp edge (hence the name). This blade hides a secret poison.", upgrade: ["20000z", "G. Jaggi Claw+", 3, "Carbalite Ore", 2, "Toxin Sac", 3, "Bird Wyvern Gem", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Chrome_Razor/base_sharp.png", p_sharp: "Img/Weap/gs/Chrome_Razor/plus_sharp.png", pic: "Img/Weap/gs/Chrome_Razor/render.png", parent: ["Ravager Blade+", 0, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Khezu Shock Full", rarity: 6, attack: 816, ele_type: 'Thunder', ele_val: '450', num_slot: 'O--', affinity: '0%', flavour: "A sword clad in elemental material, which electrifies the blade.", upgrade: ["60000z", "Pale Steak", 2, "Rajang Fang+", 2, "Yoldspar Ore", 5, "Fulgurbug", 6], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Khezu_Shock_Full/base_sharp.png", p_sharp: "Img/Weap/gs/Khezu_Shock_Full/plus_sharp.png", pic: "Img/Weap/gs/Khezu_Shock_Full/render.png", parent: ["Khezu Shock Blade", 2, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Millstone Bereaver", rarity: 5, attack: 912, ele_type: '(A)Water', ele_val: '270', num_slot: '---', affinity: '-20%', flavour: "Almost too strange-looking to be called a Great Sword. This weapon REALLY cooks.", upgrade: ["35000z", "Tetsucabra Claw+", 6, "Tetsucabra Tusks+", 4, "Paddock Oil+", 3, "Fucium Ore", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Millstone_Bereaver/base_sharp.png", p_sharp: "Img/Weap/gs/Millstone_Bereaver/plus_sharp.png", pic: "Img/Weap/gs/Millstone_Bereaver/render.png", parent: ["Toad Bereaver", 3, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Cragscliff", rarity: 6, attack: 1008, ele_type: '(A)Fire', ele_val: '370', num_slot: 'OOO', affinity: '0%', flavour: "A fierce blade with rigid edges. Once swing can rend both heaven and earth.", upgrade: ["45000z", "Uragaan Scute", 5, "B. Gravios Carapace", 8, "Gravios Medulla", 1, "Firecell Stone", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cragscliff/base_sharp.png", p_sharp: "Img/Weap/gs/Cragscliff/plus_sharp.png", pic: "Img/Weap/gs/Cragscliff/render.png", parent: ["Crimsonwall", 4, 10], playstyle: 'Blademaster', extra: 'Defense +30'}, {type: 'node', name: "Verhangnisstolz", rarity: 5, attack: 672, ele_type: 'Dragon', ele_val: '220', num_slot: 'O--', affinity: '45%', flavour: "A jet black, evil blade made during the Magala eclipse. Inflicts deathly banishment.", upgrade: ["30000z", "Gore Magala Ripclaw+", 2, "Gore Magala Carapace", 4, "Gore Magala Wing+", 4, "Gore Magala Nyctgem", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Verhangnisstolz/base_sharp.png", p_sharp: "Img/Weap/gs/Verhangnisstolz/plus_sharp.png", pic: "Img/Weap/gs/Verhangnisstolz/render.png", parent: ["Dusterstolz", 5, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Brimstone Drakepride", rarity: 6, attack: 816, ele_type: 'Dragon', ele_val: '440', num_slot: 'OO-', affinity: '0%', flavour: "A crimson blade with an ominous air. Its jagged blades slice foes to bits with black lightning.", upgrade: ["55000z", "S. Zinogre Carapace", 4, "Z. Zinogre Dragonhair", 5, "S. Zinogre Claw+", 3, "S.Zinogre Horn+", 2], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Brimstone_Drakepride/base_sharp.png", p_sharp: "Img/Weap/gs/Brimstone_Drakepride/plus_sharp.png", pic: "Img/Weap/gs/Brimstone_Drakepride/render.png", parent: ["Despot's Blackstorm", 6, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Demon Rod", rarity: 6, attack: 864, ele_type: 'Thunder', ele_val: '240', num_slot: 'OO-', affinity: '20%', flavour: "Wrapped in thunderous Rajang fur, this weapon can easily cleave anything it touches.", upgrade: ["70000z", "Rajang Fang+", 3, "Rajang Blackfur", 4, "Gold Rajang Pelt", 1, "Fucium Ore", 4], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Demon_Rod/base_sharp.png", p_sharp: "Img/Weap/gs/Demon_Rod/plus_sharp.png", pic: "Img/Weap/gs/Demon_Rod/render.png", parent: ["Despot's Blackstorm", 6, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Oppressor's Forger", rarity: 9, attack: 1104, ele_type: 'Thunder', ele_val: '400', num_slot: 'OO-', affinity: '0%', flavour: "A weapon of indelible strength and character. Its might cannot be overstated..", upgrade: ["90000z", "Zinogre Cortex", 3, "Zinogre Hardhorn", 2, "Zinogre D-Shocker", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Oppressor's Forger/base_sharp.png", p_sharp: "Img/Weap/gs/Oppressor's Forger/plus_sharp.png", pic: "Img/Weap/gs/Oppressor's Forger/render.png", parent: ["Despot's Blackstorm", 6, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Cataclysm Blade", rarity: 5, attack: 816, ele_type: 'Water', ele_val: '480', num_slot: 'O--', affinity: '0%', flavour: "A blase of absorbent sponge. Its pressurized water can break through tough shells.", upgrade: ["35000z", "Spongy Hide", 5, "Zamtrios Fin+", 4, "Monster Keenbone", 5, "Paddock Oil+", 2], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cataclysm_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Cataclysm_Blade/plus_sharp.png", pic: "Img/Weap/gs/Cataclysm_Blade/render.png", parent: ["Cataclysm Sword", 9, 10], playstyle: 'Blademaster', extra: ''}], 
    [{type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}], 
    [{type: 'node', name: "Devastator Blade", rarity: 5, attack: 768, ele_type: '(A)Fire', ele_val: '380', num_slot: 'OOO', affinity: '5%', flavour: "The pinnacle of the Ravager Blade family. Those who wield it will never know fear.", upgrade: ["30000z", "P. Rathian Carapace", 2, "Tigrex Claw+", 5, "Carbalite Ore", 10], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Devastator_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Devastator_Blade/plus_sharp.png", pic: "Img/Weap/gs/Devastator_Blade/render.png", parent: ["Lacerator Blade", 0, 12], playstyle: 'Blademaster', extra: 'Defense +30'}, {type: 'node', name: "Chrome Quietus", rarity: 5, attack: 768, ele_type: 'Poison', ele_val: '370', num_slot: 'OO-', affinity: '20%', flavour: "A strong, razor shap edge (hence the name). This blade hides a secret poison.", upgrade: ["30000z", "Basarios Carapace", 4, "Fucium Ore", 3, "Wyvern Gem", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Chrome_Quietus/base_sharp.png", p_sharp: "Img/Weap/gs/Chrome_Quietus/plus_sharp.png", pic: "Img/Weap/gs/Chrome_Quietus/render.png", parent: ["Chrome Razor", 1, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Blood Sword", rarity: 8, attack: 1008, ele_type: 'Thunder', ele_val: '550', num_slot: 'O--', affinity: '0%', flavour: "A Great Sword made of Red Khezu Materials. It runs with blood that continues to redden.", upgrade: ["85000z", "Alluring Glosshide", 4, "Lightning Sac", 3, "Rubbery Purple Hide+", 5], craft: ["127500z", "Alluring Fellwing", 6, "Pearl Glosshide", 8, "Khezu Special Cut", 2, "Lrg Wyvern Gem", 1], shop: 'N/A', sharp: "Img/Weap/gs/Blood_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Blood_Sword/plus_sharp.png", pic: "Img/Weap/gs/Blood_Sword/render.png", parent: ["Khezu Shock Full", 2, 10], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Rampage Blade", rarity: 8, attack: 1248, ele_type: '(A)Blastblight', ele_val: '350', num_slot: 'O--', affinity: '-20%', flavour: "A Berzerk Tetsucabra Great Sword whose edge reflects hell's boiling inferno.", upgrade: ["60000z", "B. Tetsucabra Hardclaw", 4, "B. Tetsucabra Cortex", 5, "Eltatlie Ore", "4"], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Rampage_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Rampage_Blade/plus_sharp.png", pic: "Img/Weap/gs/Rampage_Blade/render.png", parent: ["Millstone Bereaver", 3, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Cragscliff+", rarity: 9, attack: 1392, ele_type: '(A)Fire', ele_val: '380', num_slot: 'OOO', affinity: '0%', flavour: "A fierce blade with rigid edges. One swing can rend both heaven and earth.", upgrade: ["95000z", "S. Uragaan Scute+", 4, "B. Gravios Cortex", 3, "Allfire Ore", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cragscliff+/base_sharp.png", p_sharp: "Img/Weap/gs/Cragscliff+/plus_sharp.png", pic: "Img/Weap/gs/Cragscliff+/render.png", parent: ["Cragscliff", 4, 10], playstyle: 'Blademaster', extra: 'Defense +40'}, {type: 'node', name: "L'Apotheose", rarity: 7, attack: 768, ele_type: 'Dragon', ele_val: '250', num_slot: 'O--', affinity: '65%', flavour: "A blade like a prism that transforms sunlight into a mesmerizing spell.", upgrade: ["60000z", "S. Magala Caress+", 2, "S. Magala Carapace", 4, "S. Magala Prismwing+", 2, "S. Magala Phosgem", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/L'Aptheose/base_sharp.png", p_sharp: "Img/Weap/gs/L'Aptheose/plus_sharp.png", pic: "Img/Weap/gs/L'Aptheose/render.png", parent: ["Verhangnisstolz", 5, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Brimstone Drakepride+", rarity: 9, attack: 1152, ele_type: 'Dragon', ele_val: '490', num_slot: 'OO-', affinity: '0%', flavour: "A crimson blade with an ominous air. Its jagged blades slice foes to bits with black lightning.", upgrade:["95000z", "S. Zinogre Cortex", 3, "S. Zinogre Hardhorn", 2, "S. Zinogre Drakehold", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Brimstone_Drakepride+/base_sharp.png", p_sharp: "Img/Weap/gs/Brimstone_Drakepride+/plus_sharp.png", pic: "Img/Weap/gs/Brimstone_Drakepride+/render.png", parent: ["Brimstone Drakepride", 6, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Great Demon Rod", rarity: 7, attack: 912, ele_type: 'Thunder', ele_val: '260', num_slot: 'OO-', affinity: '25%', flavour: "Wrapped in thunderous Rajang fur, this weapon can easily cleave anything it touches.", upgrade: ["85000z", "Ghoulish Gold Horn", 2, "Rajang Claw+", 5, "Rajang Ragehair", 4, "Rajang Nerve", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Great_Demon_Rod/base_sharp.png", p_sharp: "Img/Weap/gs/Great_Demon_Rod/plus_sharp.png", pic: "Img/Weap/gs/Great_Demon_Rod/render.png", parent: ["Demon Rod", 7, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Orcus Tonitrus", rarity: 9, attack: 1248, ele_type: 'Thunder', ele_val: '500', num_slot: 'OOO', affinity: '0%', flavour: "A weapon of indelible strength and character. Its might cannot be overstated.", upgrade: ["120000z", "Zinogre Electrofur+", 6, "Zinogre Lash", 2, "Rajang Hardclaw", 3, "Zinogre Skymerald", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Orcus_Tonitrus/base_sharp.png", p_sharp: "Img/Weap/gs/Orcus_Tonitrus/plus_sharp.png", pic: "Img/Weap/gs/Orcus_Tonitrus/render.png", parent: ["Oppressor's Forger", 8, 12], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Cataclysm Blade+", rarity: 9, attack: 1200, ele_type: 'Water', ele_val: '600', num_slot: 'O--', affinity: '0%', flavour: "A blade of absorbent sponge. Its pressurized water can break through tough shells.", upgrade: ["100000z", "Spongy Hide", 2, "S. Queen Pectus+", 4, "S. Queen Maw", 2, "Monster Slogbone", 5], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cataclysm_Blade+/base_sharp.png", p_sharp: "Img/Weap/gs/Cataclysm_Blade+/plus_sharp.png", pic: "Img/Weap/gs/Cataclysm_Blade+/render.png", parent: ["Cataclysm Blade", 9, 12], playstyle: 'Blademaster', extra: ''}], 
    [{type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}], 
    [{type: 'node', name: "Exemplar Blade", rarity: 8, attack: 1104, ele_type: '(A)Fire', ele_val: '400', num_slot: 'OOO', affinity: '10%', flavour: "The pinnacle of the Ravager Blade family. Those who wield it will never know fear.", upgrade: ["60000z", "Eltatlite Ore", 5, "Novacrystal", 4, "Emperor Hopper", 3], craft: ["90000z", "Eltatlite Ore", 8, "Novacrystal", 5, "Emperor Hopper", 4, "Carbalite Ore", 15], shop: 'N/A', sharp: "Img/Weap/gs/Exemplar_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Exemplar_Blade/plus_sharp.png", pic: "Img/Weap/gs/Exemplar_Blade/render.png", parent: ["Devastator Blade", 0, 14], playstyle: 'Blademaster', extra: 'Defense +35'}, {type: 'node', name: "Chrome Hell", rarity: 8, attack: 1056, ele_type: 'Poison', ele_val: '420', num_slot: 'OO-', affinity: '20%', flavour: "A strong, razor-sharp edge (hence the name). This blade hides a secret poison.", upgrade: ["60000z", "Velocidrome Hardclaw", 3, "Eltalite Ore", 4, "Deadly Poison Sac", 3, "Fey Wyvern Gem", 1], craft: ["90000z", "Eltatlite Ore", 8, "Firecell St   one", 5, "Monster Essence", 10, "Fey Wyvern Gem", 1], shop: 'N/A', sharp: "Img/Weap/gs/Chrome_Hell/base_sharp.png", p_sharp: "Img/Weap/gs/Chrome_Hell/plus_sharp.png", pic: "Img/Weap/gs/Chrome_Hell/render.png", parent: ["Chrome Quietus", 1, 14], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Blood Shock", rarity: 9, attack: 1200, ele_type: 'Thunder', ele_val: '630', num_slot: 'O--', affinity: '0%', flavour: "A Great Sword made from Red Khezu materials. It runs with blood that continues to redden.", upgrade: ["110000z", "Special Special Cut", 2, "B. Gravios Crown", 2, "Cosmicite Ore", 5], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Blood_Shock/base_sharp.png", p_sharp: "Img/Weap/gs/Blood_Shock/plus_sharp.png", pic: "Img/Weap/gs/Blood_Shock/render.png", parent: ["Blood Sword", 2, 14], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Rampage Temperline", rarity: 9, attack: 1392, ele_type: '(A)Blastblight', ele_val: '420', num_slot: 'O--', affinity: '-20%', flavour: "A Berserk Tetsucabra Great Sword whose edge relfects hell's boilling inferno.", upgrade: ["100000z", "B. Tetsucabra Hardclaw", 6, "B. Tetsucabra Gnawrl", 4, "Paddock Cream", 3, "Allfire Stone", 3], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Rampage_Temperline/base_sharp.png", p_sharp: "Img/Weap/gs/Rampage_Temperline/plus_sharp.png", pic: "Img/Weap/gs/Rampage_Temperline/render.png", parent: ["Rampage Blade", 3, 14], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Cliffsword Titanius", rarity: 9, attack: 1488, ele_type: '(A)Fire', ele_val: '390', num_slot: 'OOO', affinity: '0%', flavour: "A fierce blade with rigid edges. One swing can rend both heaven and earth.", upgrade: ["120000z", "S. Uragaan Scute+", 5, "B. Gravios Cortex", 8, "Flame Shard", 4, "Gravios Pallium", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Cliffsword_Titanius/base_sharp.png", p_sharp: "Img/Weap/gs/Cliffsword_Titanius/plus_sharp.png", pic: "Img/Weap/gs/Cliffsword_Titanius/render.png", parent: ["Cragscliff+", 4, 14], playstyle: 'Blademaster', extra: 'Defense +50'}, {type: 'node', name: "L'Eclat", rarity: 9, attack: 1056, ele_type: 'Dragon', ele_val: '320', num_slot: 'O--', affinity: '65%', flavour: "A blade like a prism that transforms sunlight into a mesmerizing spell.", upgrade: ["90000z", "Gore Magala Shredder", 2, "Gore Magala Cortex", 4, "Gore Magala Eclipse", 2, "Gore Magala Mantle", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/L'Eclat/base_sharp.png", p_sharp: "Img/Weap/gs/L'Eclat/plus_sharp.png", pic: "Img/Weap/gs/L'Eclat/render.png", parent: ["L'Apotheose", 5, 14], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Stygian Acedia", rarity: 10, attack: 1296, ele_type: 'Dragon', ele_val: '550', num_slot: 'OOO', affinity: '0%', flavour: "A crimson blade with an ominous air. Its jagged blades slice foes to bits with black lightning.", upgrade: ["120000z", "S. Zinogre Dragonlocks", 6, "Zinogre Lash", 2, "Lrg ElderDragon Bone", 5, "S. Zinogre Skymerald", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Stygian_Acedia/base_sharp.png", p_sharp: "Img/Weap/gs/Stygian_Acedia/plus_sharp.png", pic: "Img/Weap/gs/Stygian_Acedia/render.png", parent: ["Brimstone Drakepride+", 6, 14], playstyle: 'Blademaster', extra: ''}, {type: 'node', name: "Great Demon Hot Rod", rarity: 9, attack: 1296, ele_type: 'Thunder', ele_val: '300', num_slot: 'OO-', affinity: '30%', flavour: "Wrapped in thunderous Rajang fur, this weapon can easily cleave anything it touches.", upgrade: ["90000z", "Rajang Hardfang", 3, "Rajang Wildpelt", 4, "Gold Rajang Pelt+", 1, "Purecrystal", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Great_Demon_Hot_Rod/base_sharp.png", p_sharp: "Img/Weap/gs/Great_Demon_Hot_Rod/plus_sharp.png", pic: "Img/Weap/gs/Great_Demon_Hot_Rod/render.png", parent: ["Great Demon Rod", 7, 14], playstyle: 'Blademaster', extra: ''}], 
    [{type: 'connector', pic: 'Img/connector_5.png'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'blank'}, {type: 'blank'}, {type: 'blank'}, {type: 'connector', pic: 'Img/connector_5.png'}, {type: 'blank'}, {type: 'connector', pic: 'Img/connector_5.png'}], 
    [{type: 'node', name: "Grandglory Blade", rarity: 9, attack: 1248, ele_type: '(A)Fire', ele_val: '430', num_slot: 'OOO', affinity: '10%', flavour: "The pinnacle of the Ravager Blade family. Those who wield it will never know fear.", upgrade: ["100000z", "P. Rathian Cortex", 2, "Tigrex Hardclaw", 5, "Eltatlite Ore", 10], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Grandglory_Blade/base_sharp.png", p_sharp: "Img/Weap/gs/Grandglory_Blade/plus_sharp.png", pic: "Img/Weap/gs/Grandglory_Blade/render.png", parent: ["Exemplar Blade", 0, 16], playstyle: 'Blademaster', extra: 'Defense +40'}, {type: 'node', name: "Chrome Heaven", rarity: 9, attack: 1152, ele_type: 'Poison', ele_val: '420', num_slot: 'OOO', affinity: '30%', flavour: "A strong, razor-sharp edge (hence the name). This blade hides a secret poison.", upgrade: ["100000z", "Basarios Cortex", 4, "Meldspar Ore", 2, "Lrg Wyvern Gem", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Chrome_Heaven/base_sharp.png", p_sharp: "Img/Weap/gs/Chrome_Heaven/plus_sharp.png", pic: "Img/Weap/gs/Chrome_Heaven/render.png", parent: ["Chrome Hell", 1, 16], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'blank'}, {type: 'blank'}, {type: 'node', name: "L'Origine", rarity: 10, attack: 1152, ele_type: 'Dragon', ele_val: '400', num_slot: 'O--', affinity: '65%', flavour: "A blade like a prism that transforms sunlight into a mesmerizing spell.", upgrade: ["130000z", "S. Magala Purifier", 2, "S. Magala Cortex", 4, "S. Magala Lightwing", 2, "S. Magala Mantle", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/L'Origine/base_sharp.png", p_sharp: "Img/Weap/gs/L'Origine/plus_sharp.png", pic: "Img/Weap/gs/L'Origine/render.png", parent: ["L'Eclate", 5, 16], playstyle: 'Blademaster', extra: ''}, {type: 'blank'}, {type: 'node', name: "Demonlord Rod", rarity: 10, attack: 1344, ele_type: 'Thunder', ele_val: '350', num_slot: 'OO-', affinity: '30%', flavour: "A golden mass of Rajang menace. One swing summons thunderclouds that bring ruin to the area.", upgrade: ["120000z", "Ghoulish Golden Gorer", 2, "Rajang Hardclaw", 5, "Rajang Apoplexy", 4, "Rajang Heart", 1], craft: [], shop: 'N/A', sharp: "Img/Weap/gs/Demonlord_Rod/base_sharp.png", p_sharp: "Img/Weap/gs/Demonlord_Rod/plus_sharp.png", pic: "Img/Weap/gs/Demonlord_Rod/render.png", parent: ["Great Demon Hot Rod", 7, 16], playstyle: 'Blademaster', extra: ''}]
];

var gs_Amons_Sword_Path = [
    [{type: 'node', name: "Amon's Sword", rarity: 10, attack: 1296, ele_type: 'Fire', ele_val: '520', num_slot: '---', affinity: '20%', flavour: "A huge sword imbued with a supernatural power. Its burning flame metls evern metal and tears through everything.", upgrade: [], craft: ["100000z", "Balbadd Royal Sword", 3, "M. Tigrex Trigger", 4, "Allfire Stone", 2, "Tigrex Mantle", 1], shop: 'N/A', sharp: "Img/Weap/gs/Amons_Sword/base_sharp.png", p_sharp: "Img/Weap/gs/Amons_Sword/plus_sharp.png", pic: "Img/Weap/gs/Amons_Sword/render.png", parent: [], playstyle: 'Blademaster', extra: ''}]
];

//{type: 'node', name: "", rarity: , attack: , ele_type: '', ele_val: '', num_slot: '', affinity: '', flavour: "", upgrade: [], craft: [], shop: '', sharp: "", p_sharp: "", pic: "", parent: [], playstyle: '', extra: ''}
//{type: 'connector', pic: 'Img/connector_.png'}
//{type: 'blank'}

var gs_trees = ["Iron_Sword_Path", "Amons_Sword_Path"];
var ls_trees = [];
var sns_trees = [];
var db_trees = [];
var ham_trees = [];
var hrn_trees = [];
var lan_trees = [];
var gl_trees = [];
var sa_trees = [];
var cb_trees = [];
var ig_trees = [];
var lbg_trees = [];
var hbg_trees = [];
var bow_trees = [];

var node_num = 0;
var selected_node = -1;
var curr_selected_tree = [];
var curr_selected_tree_list = [];
var curr_selected_option = "";
var info_box_present = false;

var selected_option_id = "";
var prev_sel_name = "";
var selected_gear = '';

var weap_toggle = 0;
var arm_toggle = 0;

function disp_Node(x, y, parent_id, tree_arr){
    var nDiv = document.createElement('div');
    var nImg = document.createElement('img');
    var new_id = node_num;
    
    var nTitle = document.createElement('div');
    nTitle.style.height = '50%';
    nTitle.style.width = '100%';
    nTitle.style.overflow = 'auto'
    nTitle.style.position = "absolute";
    nTitle.style.top = '0px';
    nTitle.style.left = '0px';
    nTitle.style.zIndex = '2';
    nTitle.style.fontSize = '10pt';
    
    nDiv.id = new_id*10;
    nTitle.id = nDiv.id+"_title";
    nDiv.className = 'panel';
    nImg.className = 'ImgPan';
    
    nImg.src = tree_arr[y][x].pic;
    
    nDiv.style.top = (y*100)+'px';
    nDiv.style.left = (x*100)+'px';
   
    nDiv.style.borderColor = "dimgray";
    
    //nDiv.innerHTML = tree_arr[y][x].name;
    nTitle.innerHTML = tree_arr[y][x].name;
    //nDiv.style.color = update_rare_color(tree_arr[y][x].rarity);
    nTitle.style.color = update_rare_color(tree_arr[y][x].rarity);
    //nDiv.style.textShadow = "1px 0px rgba(156,154,160,0.5)";
    //nTitle.style.textShadow = "0px 1px grey";
    nDiv.onclick = function(){
        var div_coor = Object.assign({},getPos(nDiv));
        
        if(selected_node == -1){
            selected_node = nDiv.id;
            nDiv.style.borderColor = 'turquoise';
            disp_info_box(x, y, tree_arr);
            move_info_box(div_coor.x - 60, div_coor.y - 60);
            scroll_window(div_coor.x, div_coor.y);
        }
        else{
            if(selected_node == nDiv.id){
                selected_node = -1;
                nDiv.style.borderColor = 'dimgray';
                remove_info_box();

            }
            else{
                document.getElementById(selected_node).style.borderColor = 'dimgray';
                selected_node = nDiv.id;
                nDiv.style.borderColor = 'turquoise';
                disp_info_box(x, y, tree_arr);
                move_info_box(div_coor.x - 60, div_coor.y - 60);
                //window.scrollTo(div_coor.x + 50, div_coor.y + 50);
                scroll_window(div_coor.x, div_coor.y);
                clear_cost_panel();
            }
        }
        
    };
    
    nDiv.appendChild(nTitle);
    
    nDiv.appendChild(nImg);
    document.getElementById(parent_id).appendChild(nDiv);
    
    node_num += 1;
}

function disp_Conn(x, y, parent_id, tree_arr){
    var nDiv = document.createElement('div');
    var nImg = document.createElement('img');
    
    nDiv.className = 'conn_panel';
    nImg.className = 'ConnPan';
    
    nImg.src = tree_arr[y][x].pic;
    
    nDiv.style.top = (y*100) + 'px';
    nDiv.style.left = (x*100) + 'px';
    
    nDiv.appendChild(nImg);
    
    document.getElementById(parent_id).appendChild(nDiv);
    
}

function disp_Tree(tree_arr, id_name, parent_id){
    var created_id = id_name;
    var parent_ele_id = parent_id;
    var nDiv = document.createElement('div');
    nDiv.id = created_id;
    nDiv.style.position = 'absolute';
    
    nDiv.style.left = '0px';
    nDiv.style.border = "1px outset";
    nDiv.style.backgroundImage = "url(Img/tree_back.jpg)";
    nDiv.style.backgroundSize = "cover";
    nDiv.style.transition = "300ms";
    
    if(id_name == "rare_list"){
        nDiv.className = "tree_diagram2";
    }
    else{
        nDiv.className = "tree_diagram";
    }
    
    var height = tree_arr.length * 100;
    var width = 0;
    for (var index = 0; index < tree_arr.length; index++){
        if (width < tree_arr[index].length){
            width = tree_arr[index].length;
        }
    }
    
    width *= 100;
    
    nDiv.style.height = (height)+'px';
    nDiv.style.width = (width)+'px';
    
    var r_limit = document.createElement('div');
    var b_limit = document.createElement('div');
    
    r_limit.id = "right_limit";
    b_limit.id = "bottom_limit";
    
    r_limit.style.right = "-750px";
    b_limit.style.bottom = "-100px";
    
    nDiv.appendChild(r_limit);
    nDiv.appendChild(b_limit);
    
    document.getElementById(parent_ele_id).appendChild(nDiv);
    
    for (var y = 0; y < tree_arr.length; y++){
        for(var x = 0; x < tree_arr[y].length; x++){
            if(tree_arr[y][x].type != 'blank'){
                if (tree_arr[y][x].type == 'connector'){
                    disp_Conn(x, y, nDiv.id, tree_arr);
                }
                else{
                    disp_Node(x, y, nDiv.id, tree_arr);
                }
            }
        }
    }
    
        document.getElementById("info_box").style.visibility = "visible";
        document.getElementById("info_box").style.opacity = 1;
        document.getElementById("page_1").style.visibility = "visible";
        document.getElementById("page_1").style.opacity = 1;
        info_box_present = true;
        remove_info_box();
    
    
    
}

function delete_tree(){
    
    var content_div = document.getElementById("content");
    var tree_div = document.getElementById('diagram');
    
    if(tree_div != null){

        content_div.removeChild(tree_div);    
        node_num = 0;
        selected_node = -1;
        remove_info_box();
    }

    
}

function delete_listings(){
    var tree_div = document.getElementById('listings');

    if(tree_div != null){

        document.body.removeChild(tree_div);    
        node_num = 0;
        selected_node = -1;
        remove_info_box();
    }
}

function delete_rare_list(){
    var tree_div = document.getElementById('rare_list');

    if(tree_div != null){
        document.getElementById("listings").removeChild(tree_div);    
        node_num = 0;
        selected_node = -1;
        remove_info_box();
    }
}

function toggle_page(page_num){
    switch(page_num){
        case 1:
            document.getElementById("page_1").style.visibility = "hidden";
            document.getElementById("page_1").style.opacity = 0;
            document.getElementById("page_2").style.visibility = "visible";
            document.getElementById("page_2").style.opacity = 1;
            document.getElementById("page_3").style.visibility = "hidden";
            document.getElementById("page_3").style.opacity = 0;
            document.getElementById("page_4").style.visibility = "hidden";
            document.getElementById("page_4").style.opacity = 0;
            document.getElementById("get_cost").style.visibility = "hidden";
            document.getElementById("get_cost").style.opacity = 0;
            document.getElementById("info_img").style.visibility = "hidden";
            document.getElementById("info_img").style.opacity = 0;
            document.getElementById("preview_lable").innerHTML = "Preview";
            break;
        
        case 2:
            document.getElementById("page_1").style.visibility = "hidden";
            document.getElementById("page_1").style.opacity = 0;
            document.getElementById("page_2").style.visibility = "hidden";
            document.getElementById("page_2").style.opacity = 0;
            document.getElementById("page_3").style.visibility = "visible";
            document.getElementById("page_3").style.opacity = 1;
            document.getElementById("page_4").style.visibility = "hidden";
            document.getElementById("page_4").style.opacity = 0;
            document.getElementById("get_cost").style.visibility = "visible";
            document.getElementById("get_cost").style.opacity = 1;
            document.getElementById("info_img").style.visibility = "hidden";
            document.getElementById("info_img").style.opacity = 0;
            document.getElementById("preview_lable").innerHTML = "Preview";
            break;
            
        case 3:
            document.getElementById("page_1").style.visibility = "hidden";
            document.getElementById("page_1").style.opacity = 0;
            document.getElementById("page_2").style.visibility = "hidden";
            document.getElementById("page_2").style.opacity = 0;
            document.getElementById("page_3").style.visibility = "hidden";
            document.getElementById("page_3").style.opacity = 0;
            document.getElementById("page_4").style.visibility = "visible";
            document.getElementById("page_4").style.opacity = 1;
            document.getElementById("get_cost").style.visibility = "visible";
            document.getElementById("get_cost").style.opacity = 1;
            document.getElementById("info_img").style.visibility = "hidden";
            document.getElementById("info_img").style.opacity = 0;
            document.getElementById("preview_lable").innerHTML = "Preview";
            break;
            
        case 4:
            document.getElementById("page_1").style.visibility = "visible";
            document.getElementById("page_1").style.opacity = 1;
            document.getElementById("page_2").style.visibility = "hidden";
            document.getElementById("page_2").style.opacity = 0;
            document.getElementById("page_3").style.visibility = "hidden";
            document.getElementById("page_3").style.opacity = 0;
            document.getElementById("page_4").style.visibility = "hidden";
            document.getElementById("page_4").style.opacity = 0;
            document.getElementById("get_cost").style.visibility = "hidden";
            document.getElementById("get_cost").style.opacity = 0;
            document.getElementById("info_img").style.visibility = "hidden";
            document.getElementById("info_img").style.opacity = 0;
            document.getElementById("preview_lable").innerHTML = "Preview";
            break;
            
        case 5:
            document.getElementById("page_1").style.visibility = "hidden";
            document.getElementById("page_1").style.opacity = 0;
            document.getElementById("page_2").style.visibility = "hidden";
            document.getElementById("page_2").style.opacity = 0;
            document.getElementById("page_3").style.visibility = "hidden";
            document.getElementById("page_3").style.opacity = 0;
            document.getElementById("page_4").style.visibility = "hidden";
            document.getElementById("page_4").style.opacity = 0;
            document.getElementById("get_cost").style.visibility = "hidden";
            document.getElementById("get_cost").style.opacity = 0;
            document.getElementById("info_img").style.visibility = "visible";
            document.getElementById("info_img").style.opacity = 1;
            document.getElementById("preview_lable").innerHTML = "End Preview";
    }
}



function disp_info_box(x, y, tree_arr){
    if (info_box_present != false){
        remove_info_box();
    }

    
    //document.getElementById("info_box").style.top = (y* 100 + 20)+'px';
    //document.getElementById("info_box").style.left = (x*100 +102)+'px';
    
    //document.getElementById("info_box").style.top = y+'px';
    //document.getElementById("info_box").style.left = x +'px';
    
    document.getElementById("info_box").style.visibility = "visible";
    document.getElementById("info_box").style.opacity = 1;
    toggle_page(4);
    
    var new_y = document.getElementById("info_box").offsetTop;
    var new_x = document.getElementById("info_box").offsetleft;
    
    document.getElementById("main_cost_panel").style.bottom = "0px";
    document.getElementById("main_cost_panel").style.left = "0px";
    document.getElementById("shop_cost_line").innerHTML = "";
    document.getElementById("main_cost_panel").style.visibility = "hidden";
    document.getElementById("main_cost_panel").style.opacity = "0";
    
    
    info_box_present = true;
    update_info_box(tree_arr[y][x]);
}

function clear_material_info(){
    for(var i = 1; i < 5; i++){
            
        var up_clr_lable = "up_mat"+i;
        var up_clr_val = "up_mat"+i+"_amt";
        var cr_clr_lable = "cr_mat"+i;
        var cr_clr_val = "cr_mat"+i+"_amt";
            
        document.getElementById(up_clr_lable).innerHTML = "";
        document.getElementById(up_clr_val).innerHTML = "";
        document.getElementById(cr_clr_lable).innerHTML = "";
        document.getElementById(cr_clr_val).innerHTML = "";
            
    }
}

function update_info_box(node_object){
    clear_material_info();
    document.getElementById("info_box_header").innerHTML = node_object.name;
    document.getElementById("info_box_header").style.color = update_rare_color(node_object.rarity);
    document.getElementById("info_rare").innerHTML = "Rarity " + node_object.rarity;
    document.getElementById("info_rare").style.color = update_rare_color(node_object.rarity);
    document.getElementById("atk_val").innerHTML = node_object.attack;
    document.getElementById("ele_lable").innerHTML = node_object.ele_type;
    document.getElementById("ele_val").innerHTML = node_object.ele_val;
    document.getElementById("sharp_img").src = node_object.sharp;
    document.getElementById("sharp_p_img").src = node_object.p_sharp;
    document.getElementById("slot_val").innerHTML = node_object.num_slot;
    document.getElementById("aff_val").innerHTML = node_object.affinity;
    document.getElementById("weap_type_val").innerHTML = node_object.playstyle;
    document.getElementById("extra_info").innerHTML = node_object.extra;
    document.getElementById("flavour").innerHTML = node_object.flavour;
    document.getElementById("flavour").innerHTML = node_object.flavour;
    
    if (node_object.upgrade.length != 0){
        document.getElementById("parent_lable").innerHTML = "Material List";
        document.getElementById("up_cost_lable").innerHTML = "Cost"
        document.getElementById("parent_name").innerHTML = node_object.parent[0];
        document.getElementById("parent_name").style.borderTopStyle = "groove";
        document.getElementById("parent_name").style.borderBottomStyle = "groove";
        document.getElementById("up_cost").innerHTML = node_object.upgrade[0];
        var up_count = 1;
        for(var i = 1; i < node_object.upgrade.length; i+=2){
            var mat_name = node_object.upgrade[i];
            var mat_amt = node_object.upgrade[i+1];
            
            var up_lable_id = "up_mat"+up_count;
            var up_val_id = "up_mat"+up_count+"_amt";
            
            document.getElementById(up_lable_id).innerHTML = mat_name;
            document.getElementById(up_val_id).innerHTML = mat_amt;
            up_count++;
            
        }
    }
    else{
        document.getElementById("parent_name").innerHTML = "Nothing";
        document.getElementById("parent_lable").innerHTML = "";
        document.getElementById("up_cost_lable").innerHTML = '';
        document.getElementById("up_cost").innerHTML = '';
        document.getElementById("parent_name").style.borderTopStyle = "groove";
        document.getElementById("parent_name").style.borderBottomStyle = "groove";
        
    }
    
    if (node_object.craft.length != 0){
        document.getElementById("cr_cost_lable").innerHTML = "Cost";
        document.getElementById("cr_cat").innerHTML = "Crafting Materials";
        document.getElementById("cr_cost").innerHTML = node_object.craft[0];
        var cr_count = 1;
        for(var x = 1; x < node_object.craft.length; x+=2){
            var cr_mat_name = node_object.craft[x];
            var cr_mat_amt = node_object.craft[x+1];
            
            var cr_lable_id = "cr_mat"+cr_count;
            var cr_val_id = "cr_mat"+cr_count+"_amt";

            
            document.getElementById(cr_lable_id).innerHTML = cr_mat_name;
            document.getElementById(cr_val_id).innerHTML = cr_mat_amt;
            cr_count++;
        }
    }
    else{
        document.getElementById("cr_cost_lable").innerHTML = "";
        document.getElementById("cr_cost").innerHTML = "";
        document.getElementById("cr_cat").innerHTML = "Cannot be Created";

    }
    
    document.getElementById("shop_price").innerHTML = node_object.shop;
    
    document.getElementById('lg_img').src = node_object.pic;
    
}

function update_rare_color(rare){
    color='';
    switch(rare){
        case 1:
            color = "white";
            break;
            
        case 2:
            color = "rgb(140,58,165)";
            //color = "fuchsia";
            break;
            
        case 3:
            color = "yellow";
            break;
            
        case 4:
            color = "pink";
            break;
            
        case 5:
            color = "green";
            break;
            
        case 6:
            color = "cornflowerblue";
            break;
            
        case 7:
            color = "firebrick";
            break;
            
        case 8:
            color = "skyblue";
            break;
            
        case 9:
            color = "orange";
            break;
            
        case 10:
            color = "deeppink";
            break;
            
        
    }
    return color;
}

function remove_info_box(){
    document.getElementById("info_box").style.visibility = "hidden";
    document.getElementById("info_box").style.opacity = 0;
    document.getElementById("page_1").style.visibility = "hidden";
    document.getElementById("page_1").style.opacity = 0;
    document.getElementById("page_2").style.visibility = "hidden";
    document.getElementById("page_2").style.opacity = 0;
    document.getElementById("page_3").style.visibility = "hidden";
    document.getElementById("page_3").style.opacity = 0;
    document.getElementById("page_4").style.visibility = "hidden";
    document.getElementById("page_4").style.opacity = 0;
    document.getElementById("info_img").style.visibility = "hidden";
    document.getElementById("info_img").style.opacity = 0;
    document.getElementById("get_cost").style.visibility = "hidden";
    document.getElementById("get_cost").style.opacity = 0;
    info_box_present = false;
    document.getElementById("main_cost_panel").style.top = "0px";
    document.getElementById("main_cost_panel").style.left = "0px";
    document.getElementById("shop_cost_line").innerHTML = "";
    document.getElementById("main_cost_panel").style.visibility = "hidden";
    document.getElementById("main_cost_panel").style.opacity = "0";
    clear_cost_panel();
    document.getElementById("info_box").style.top = '-1000px';
    document.getElementById("info_box").style.left = '50px';
}

function clear_list(){
    var drop_list = document.getElementById("tree_selection");
    while (drop_list.length > 1){
        drop_list.remove(1);
    }
    curr_selected_option = '';
}

function option_select (option){
    if(option.indexOf("wpn_") != -1){
        var wpn_option = option.replace("wpn_", "");
        select_wpn_type(wpn_option);
        
    }
    else if(option.indexOf("armor_") != -1){
        var amr_option = option.replace("armor_", "");
        select_armor(amr_option);
        
    }
    
}

function select_wpn_type(selection){
    if(selection != selected_gear){
        document.getElementById("tree_header_bot").innerHTML = '';
        selected_gear = selection;
        clear_list();
        delete_tree();
        delete_listings();
        delete_name_list();
        set_selection(-1);
        remove_info_box();
        selected_node = -1;
        
        document.getElementById("selection").style.visibility = "hidden";
        document.getElementById("selection").style.opacity = "0";
        reset_prev_selection();
        
        var selected_wpn_type_lise = eval(selection + "_trees");
        
        for(var index = 0; index < selected_wpn_type_lise.length; index++){
            var new_option = document.createElement("option");
            var new_op_text = selected_wpn_type_lise[index];

            while( new_op_text.indexOf("_") != -1){
                new_op_text = new_op_text.replace("_", " ");
            }

            var new_op_val = selected_gear + "_" + selected_wpn_type_lise[index];

            new_option.innerHTML = new_op_text;
            new_option.value = new_op_val;

            document.getElementById("tree_selection").add(new_option);
        }
        display_control();
    }
    update_header(selection);
    
    
}

function select_armor(selection){
    var gear_selection = "";
    switch(selection){
        case "lrb":
            gear_selection = "Low Rank Blademaster Armor";
            break;
            
        case "lrg":
            gear_selection = "Low Rank Gunner Armor";
            break;
            
        case "hrb":
            gear_selection = "High Rank Blademaster Armor";
            break;
            
        case "hrg":
            gear_selection = "High Rank Gunner Armor";
            break;
            
        case "grb":
            gear_selection = "G Rank Blademaster Armor";
            break;
            
        case "grg":
            gear_selection = "G Rank Gunner Armor";
            break;
            
        case "rlc":
            gear_selection = "Relic Armor";
            break;
    }
    
    var body_message = "Your selection of " + gear_selection + " is currently unavailable" + "<br>" + "Please select a different option."
    
    pop_up("NOTICE", body_message);
}

function pop_up(header_message, body_message){
    document.getElementById("message_box").style.display = "block";
    document.getElementById("pop_header").innerHTML = header_message;
    document.getElementById("pop_header").style.textAlign = "center";
    document.getElementById("message_bod").innerHTML = body_message;
    document.getElementById("message_bod").style.textAlign = "center";
   
}

function close_message(){
    document.getElementById("message_box").style.display = "none";
}

function display_tree_header(){
    document.getElementById("tree_header").style.opacity = "1";
    document.getElementById("tree_header").style.visibility = "visible";
}

function hide_header(){
    document.getElementById("tree_header").style.opacity = "0";
    document.getElementById("tree_header").style.visibility = "hidden";
}

function update_header(selection){
    var wpn_class = document.getElementById(selection).innerHTML;
    var display_string = "Type: " + wpn_class;
    document.getElementById("tree_header_top").innerHTML = display_string;
    display_tree_header();
}

function update_header_body(path){
    var stripped_str = path.slice(path.indexOf('_') + 1);
    while(stripped_str.indexOf('_') != -1){
        stripped_str = stripped_str.replace('_', ' ');
    }
    
    document.getElementById("tree_header_bot").innerHTML = stripped_str;
}

function calculate_cost(selected_node){
    var curr_node = Object.assign({}, selected_node);
    var shop_cost = selected_node.shop;
    var craft_cost = selected_node.craft;
    var upgrade_cost = [];
    if(selected_node.upgrade.length > 0){
        
        var raw_info = upgrade_options(curr_node);
        
        upgrade_cost = raw_info.slice(1, raw_info.length);
    }
    var acquisition_options = [shop_cost, craft_cost, upgrade_cost];
    return acquisition_options;
}

function add_dictionary(dict1, dict2){
    var base = Object.assign({}, dict1);
    var op = Object.assign({}, dict2);
    
    var base_key = Object.keys(base);
    
    var op_key = Object.keys(op);
    
    var result_dict = {};
    
    var interim_value = 0;
    
    for(var i = 0; i < op_key.length; i++){
        
        if(base_key.indexOf(op_key[i]) != -1){
            interim_value = base[op_key[i]] + op[op_key[i]];
            
            base[op_key[i]] = interim_value;
        }
        else{
            base[op_key[i]] = op[op_key[i]];
        }
    }
    result_dict = Object.assign({}, base);
    return result_dict;
}

function upgrade_options(curr_node){
    //keep using arrays instead
    var work_node = Object.assign({}, curr_node);
    var result_arr = [];
    var current_total = {};
    var alt_total = {};
    var next_parent = work_node.parent;
    
    curr_node = Object.assign({}, get_keyVal_pair(work_node.upgrade));
    result_arr.push(curr_node);
    
    while(next_parent.length > 0){
        work_node = Object.assign({}, curr_selected_tree[next_parent[2]][next_parent[1]]);
        
        
        if(work_node.craft.length > 0){
            alt_total = add_dictionary(result_arr[0], get_keyVal_pair(work_node.craft));
            alt_total["Base"] = work_node.name;
            alt_total["Method"] = "Craft";
            result_arr.push(alt_total);
        }
        
        if(work_node.shop != "N/A"){
            alt_total = Object.assign({}, result_arr[0]);
            alt_total["Cost"] = alt_total["Cost"] + parseInt(work_node.shop);
            alt_total["Base"] = work_node.name;
            alt_total["Method"] = "Buy";
            result_arr.push(alt_total);
        }
        
        if(work_node.upgrade.length > 0){
            current_total = add_dictionary(result_arr[0], get_keyVal_pair(work_node.upgrade));
            result_arr[0] = Object.assign({}, current_total);
        }
     
        next_parent = work_node.parent;
    }
    return result_arr;
}

function get_keyVal_pair(base_arr){
    var result_dict = {};
    result_dict["Cost"] = parseInt(base_arr[0]);
    for(var i = 1; i < base_arr.length; i+=2){
        result_dict[base_arr[i]] = parseInt(base_arr[i+1]);
    }
    return result_dict;
}

function dragPanel(panel){
    var pos1 = 0;
    var pos2 = 0;
    var pos3 = 0;
    var pos4 = 0;
    
    var head_id = panel.id + "_header";
    
    document.getElementById(head_id).onmousedown = mouseDrag;
    
    function mouseDrag(e){
        e = e || window.event;
        
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = stopMouseDrag;
        document.onmousemove = panelDrag;
    }
    
    function panelDrag(e){
        e = e|| window.event;
        panel.style.transition = '0s';
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        
        panel.style.top = (panel.offsetTop - pos2) + 'px';
        panel.style.left = (panel.offsetLeft - pos1) + 'px';
        
        
    }
    
    function stopMouseDrag(){
        panel.style.transition = "300ms";
        document.onmouseup = null;
        document.onmousemove = null;
    }
}

function append_craft_options (cost_arr){
    var work_arr = cost_arr.slice();
    var num_options = 0;
    if(cost_arr[1].length > 0){
        
        num_options = 1;
    }
    num_options += cost_arr[2].length;
    var container_height = (num_options  * 20) + 50;
    var panel_height = container_height + 41;
    
    
    
    document.getElementById("main_cost_panel").style.top = "0px";
    
    if(document.getElementById("options_cont").innerHTML != ""){
        return;
    }
    
    document.getElementById("main_cost_panel").style.height = panel_height + "px";
    document.getElementById("options_cont").style.height = container_height + "px";
    
    if(cost_arr[0] != "N/A"){
        document.getElementById("shop_cost_line").innerHTML = "Buy for " + cost_arr[0];
    }
    
    if(cost_arr[1].length > 0 || work_arr[2].length > 0){
        var op_nDiv = document.createElement('div');
        
    
        op_nDiv.className = "details_cont";
        
    
        op_nDiv.id = "details_container";
        
    
        
        document.getElementById("options_cont").appendChild(op_nDiv);
    }
    
    if(cost_arr[1].length > 0){
        var cr_nDiv = document.createElement('div');
        cr_nDiv.id = "cr_mat_0";
        cr_nDiv.className = "cost_panel_line";
        var craft_cost_obj = Object.assign({}, get_keyVal_pair(work_arr[1]));
        cr_nDiv.onclick = function(){
            expand_option(craft_cost_obj, cr_nDiv.id);
        }
        cr_nDiv.innerHTML = "Craft Directly";
        document.getElementById("options_cont").appendChild(cr_nDiv);
    }
    
    if(work_arr[2].length > 0){
        
        
        for(var index = 0; index < work_arr[2].length; index++){
            create_option(work_arr[2][index], index, container_height);
        }
    }
    
    var op_Close = document.createElement('div');
    
    op_Close.id = "close_option_div";
    op_Close.innerHTML = "Close Acquisition Options";
    op_Close.onclick = function(){
        document.getElementById("main_cost_panel").style.top = "0px";
        document.getElementById("main_cost_panel").style.left = "0px";
        document.getElementById("shop_cost_line").innerHTML = "";
        document.getElementById("main_cost_panel").style.visibility = "hidden";
        document.getElementById("main_cost_panel").style.opacity = "0";
        clear_cost_panel();
        
    };
    document.getElementById("options_cont").appendChild(op_Close);
    
}

function create_option(mat_obj, index, parent_height){
    var curr_obj = Object.assign(mat_obj);
    var cont_height = parent_height;
    var entry = curr_obj.Method;
    var base = curr_obj.Base;
    var option_str = "";
    var nDiv = document.createElement('div');
    nDiv.id = "up_craft_" + index;
    nDiv.className = "cost_panel_line";
    option_str = entry.slice(0,1) + ": " + base;
    nDiv.innerHTML = option_str;
    
    nDiv.onclick = function(){
        expand_option(curr_obj, nDiv.id, cont_height);
    }
    document.getElementById("options_cont").appendChild(nDiv);
}

function expand_option(mat_obj, option_id, cont_height){
    var working_arr = Object.assign({}, mat_obj);
    var key_list = Object.keys(working_arr);
    var height_offset = cont_height;
    
    if(option_id == selected_option_id){
        return;
    }
    
    else{
        document.getElementById(option_id).style.color = "black";
        document.getElementById(option_id).style.backgroundColor = "rgb(175,175,175)";
        
        if(selected_option_id != ""){
            document.getElementById(selected_option_id).style.color = "white";
            document.getElementById(selected_option_id).style.backgroundColor = "black";
        }
        
        selected_option_id = option_id;
        
    }
    
    if (key_list.indexOf("Base") != -1){
        key_list.splice(key_list.indexOf("Base"), 1);
    }
    
    if(key_list.indexOf("Method") != -1){
        key_list.splice(key_list.indexOf("Method"), 1);
    }
    
    
    var window_height = ((key_list.length + 1) * 21) + 52;
    
    if(document.getElementById("details_container").innerHTML != ""){
        document.getElementById("details_container").innerHTML = "";
    }
    else{
        document.getElementById("details_container").style.visibility = "visible";
        document.getElementById("details_container").style.opacity = "1";
        
        document.getElementById("details_container").style.left = "-2px";
        //document.getElementById("details_container").style.top = (-1 * (window_height - height_offset)) + 'px';
        document.getElementById("details_container").style.top = '0px';
        //document.getElementById("details_container").style.bottom = "0px";
    }
    
    document.getElementById("details_container").style.height = window_height + 'px';
    
    
    
    var op_head = document.createElement('div');
    op_head.className = "options_header";
    op_head.id = "details_container_header";
    document.getElementById("details_container").appendChild(op_head);
    //var header_string = working_arr.Method.slice(0,1) + ": " + working_arr.Base + " Total Cost";
    op_head.innerHTML = "Total Cost";
    //op_head.innerHTML = header_string;
    //op_head.style.fontSize = "9pt";
    dragPanel(document.getElementById("details_container"));
    
    var nBase = document.createElement('div');
    nBase.id = "option_base";
    nBase.className = "total_info_line";
    nBase.style.color = "white";
    nBase.style.textAlign = "center";
    nBase.innerHTML = document.getElementById(option_id).innerHTML;
    document.getElementById("details_container").appendChild(nBase);
    
    
    //console.log(key_list);
    key_list.sort();
    for (var index = 0; index < key_list.length; index++){
        if(key_list[index] != "Cost"){
            add_mat(key_list[index], working_arr[key_list[index]], "details_container");
        }
    }
    add_mat("Cost", working_arr["Cost"], "details_container");
    
    var nClose = document.createElement('div');
    nClose.id = "close_details_pan";
    nClose.className = "total_info_line";
    nClose.innerHTML = "Close Cost Panel";
    
    nClose.onclick = function(){
        document.getElementById(selected_option_id).style.color = "white";
        document.getElementById(selected_option_id).style.backgroundColor = "black";
        //document.getElementById("details_container").innerHTML = "";
        selected_option_id = "";
        while (document.getElementById("details_container").hasChildNodes()) {
            document.getElementById("details_container").removeChild(document.getElementById("details_container").lastChild);
        }
        
        close_expanded_options();
        
    };
    
    document.getElementById("details_container").appendChild(nClose);
}

function add_mat (mat_name, mat_amt, parent_id){
    //console.log(mat_name, mat_amt);
    var line_nDiv = document.createElement('div')
    var name_nDiv = document.createElement('div');
    var amt_nDiv = document.createElement('div');
    
    if(mat_name != "Cost"){
        name_nDiv.className = "mat_lable";
        amt_nDiv.className = "mat_value";
        
        name_nDiv.innerHTML = mat_name;
        amt_nDiv.innerHTML = mat_amt;
        
        
    }
    else{
        name_nDiv.className = "totalCost_lable";
        amt_nDiv.className = "totalCost_value";
        
        name_nDiv.innerHTML = "Total: ";
        amt_nDiv.innerHTML = mat_amt + 'z';
    }
    
    line_nDiv.className = "total_info_line";
    
    line_nDiv.appendChild(name_nDiv);
    line_nDiv.appendChild(amt_nDiv);
    
    document.getElementById(parent_id).appendChild(line_nDiv);
}

function clear_cost_panel(){
    document.getElementById("options_cont").innerHTML = "";
    selected_option_id = "";
}

document.getElementById('gen_button').addEventListener("click", function(){
    var selected_option = document.getElementById("tree_selection").value;
    if(selected_option != "Empty"){
        update_header_body(selected_option);
        if(curr_selected_option != selected_option){
            curr_selected_option = selected_option;
            display_tree_header();

            disp_selection_box();
            reset_prev_selection();
            delete_tree();
            hide_controls();
            curr_selected_tree = eval(curr_selected_option).slice();
        
        }
        else{
            display_tree_header();
        }
        
    }
    
    
    
});

document.getElementById('del_button').addEventListener("click", function(){

    
    remove_info_box();

    if(document.getElementById("rare_list") != null){
        reshow_listings();
    }
    else if(document.getElementById("chosen_obj_disp") != null){
        delete_chosen_node();
    }
    else{
        delete_tree();
        selected_node = -1;
        delete_listings();
        reset_prev_selection();
        //disp_selection_box();
        delete_name_list();
        curr_selected_option = '';
        document.getElementById("tree_selection").value = "Empty";
        document.getElementById("tree_header_bot").innerHTML = "";
        
        document.getElementById("disp_select_button").style.visibility = "hidden";
        document.getElementById("disp_select_button").style.opacity = "0";

        document.getElementById("selection").style.visibility = "hidden";
        document.getElementById("selection_header").style.visibility = "hidden";
        document.getElementById("selection").style.opacity = "0";
        document.getElementById("selection_header").style.opacity = "0";
        
        display_tree_header();
        
        
    }
    
    
    
});

document.getElementById("toggle_img").addEventListener("click", function(){
    document.getElementById("options").style.visibility = 'hidden';
    document.getElementById("options").style.opacity = '0';


    
    document.getElementById("toggle_button").style.visibility = 'visible';
    document.getElementById("toggle_button").style.opacity = '1';

});

document.getElementById("toggle_button").addEventListener("click", function(){
    document.getElementById("toggle_button").style.visibility = 'hidden';
    document.getElementById("toggle_button").style.opacity = '0';
    

    
    document.getElementById("options").style.visibility = 'visible';
    document.getElementById("options").style.opacity = '1';

});

document.getElementById("op_weap").addEventListener("click", function(){
    var element1 = document.getElementById("options_middle");
    var style1 = window.getComputedStyle(element1);
    var att_value1 = parseInt(style1.getPropertyValue('top'));
    
    var element2 = document.getElementById("options_bottom");
    var style2 = window.getComputedStyle(element2);
    var att_value2 = parseInt(style1.getPropertyValue('top'));
    
    var new_val1;
    var new_val2;
    
    var pan_ele = document.getElementById("options_containter");
    var pan_style = window.getComputedStyle(pan_ele);
    var pan_top = parseInt(pan_style.getPropertyValue('top'));
    
    if(weap_toggle == 0){
        element1.style.top = 280 + 'px';
        
        weap_toggle = 1;
        
        
        
        if(arm_toggle == 1){
            element2.style.top = 420 + 'px';
        }
        else{
            element2.style.top = 280 + 'px';
        }
        
    }
    else{
        element1.style.top = 0 + 'px';
        
        
        
        if(arm_toggle == 1){
            element2.style.top = 140 + 'px';
        }
        else{
            element2.style.top = 0 + 'px';
        }
        
        weap_toggle = 0;
    }
    
    
});

document.getElementById("op_armor").addEventListener("click", function(){
    var element1 = document.getElementById("options_bottom");
    var style1 = window.getComputedStyle(element1);
    var att_value1 = parseInt(style1.getPropertyValue('top'));
    
    if(arm_toggle == 0){
        if(weap_toggle == 1){
            element1.style.top = 420 + 'px';
        }
        else{
            element1.style.top = 140+ 'px';
        }
        
        arm_toggle = 1;
    }
    else{
        if(weap_toggle == 1){
            element1.style.top = 280 + 'px';
        }
        else{
            element1.style.top = 0 + 'px';
        }
        
        arm_toggle = 0;
    }

});

document.getElementById("get_cost").addEventListener("click", function(){
    
    

    var selected_name = document.getElementById(selected_node+"_title").innerHTML;
    var chosen_node = {};

    for(var row = 0; row < curr_selected_tree.length; row++){
        for (var col = 0; col < curr_selected_tree[row].length; col++){
            if(selected_name == curr_selected_tree[row][col].name){
                chosen_node = Object.assign({}, curr_selected_tree[row][col]);
                break;
            }
        }
    }
    var cost_arr = calculate_cost(chosen_node);


    document.getElementById("main_cost_panel").style.left = '0px';
    document.getElementById("main_cost_panel").style.top = '0px';
    if(document.getElementById("details_container") != null){
        document.getElementById("details_container").style.left = "-2px";
        document.getElementById("details_container").style.top = "0px";

    }
    document.getElementById("main_cost_panel").style.visibility = "visible";
    document.getElementById("main_cost_panel").style.opacity = "1";
    document.getElementById("main_cost_panel_header").innerHTML = chosen_node.name;
    document.getElementById("main_cost_panel_header").style.color = update_rare_color(chosen_node.rarity);
    //console.log(cost_arr);   
    append_craft_options(cost_arr);
    



});

document.getElementById("min_bar").addEventListener("click", function(){
    var ctrl_min_bar = document.getElementById("min_bar");
    if(ctrl_min_bar.innerHTML == " "){
        document.getElementById("control").style.right = "-150px";
        ctrl_min_bar.innerHTML = "";
    }
    else{
        document.getElementById("control").style.right = "0px";
        ctrl_min_bar.innerHTML = " ";
    }
});

dragPanel(document.getElementById("main_cost_panel"));
dragPanel(document.getElementById("info_box"));
/*===============================================INDEX STUFF===============================================*/

var prev_selection = -1;

function reset_prev_selection(){
    if(prev_selection >=1 && prev_selection <= 3){
        document.getElementById("selection"+prev_selection).style.backgroundColor = "rgba(250,250,250,0.5)";
        document.getElementById("selection"+prev_selection).style.color = "white";
        prev_selection = -1;
        delete_chosen_node();
        delete_name_list();
        delete_rare_list();
        delete_listings();
        delete_tree();
        
        
    }
}

function set_selection(selected_num){
    if(selected_num != -1){
        document.getElementById("selection"+selected_num).style.backgroundColor = "rgba(5,5,5,0.5)";
        document.getElementById("selection"+selected_num).style.color = "rgb(250,250,250)";
    }
    else{
        document.getElementById("disp_select_button").style.visibility = "hidden";
        document.getElementById("disp_select_button").style.opacity = "0";
    }
    
    reset_prev_selection();
    prev_selection = selected_num;
    delete_listings();
    delete_name_list();
    remove_info_box();
    selected_node = -1;
}

function disp_selection_box(){
    document.getElementById("disp_select_button").style.visibility = "hidden";
    document.getElementById("disp_select_button").style.opacity = "0";
    
    setTimeout(function(){
        document.getElementById("selection").style.visibility = "visible";
        document.getElementById("selection").style.opacity = "1";
        document.getElementById("selection").style.right = "0px";
        document.getElementById("selection_toggle").style.visibility = "hidden";
        document.getElementById("selection_toggle").style.opacity = "0";
        document.getElementById("selection_header").style.visibility = "visible";
        document.getElementById("selection_header").style.opacity = "1";
        
        
        setTimeout(function(){
            document.getElementById("selection").style.top = "100px";
            document.getElementById("selection_header_text").innerHTML = "Choose an Option";
            document.getElementById("selection_header").style.top = "-26px";
        }, 150);
        
    }, 150);
    
    
}

function display_control(){
    document.getElementById("control").style.visibility = 'visible';
    document.getElementById("control").style.opacity = '1';
    document.getElementById("min_bar").innerHTML = " ";
    setTimeout(function(){
        document.getElementById("control").style.right = "0px";
    },100);
}

function hide_controls(){
    document.getElementById("control").style.visibility = 'visible';
    document.getElementById("control").style.opacity = '1';
    document.getElementById("min_bar").innerHTML = "";
    setTimeout(function(){
        document.getElementById("control").style.right = "-150px";
    },100);
}

function toggle_selection_box(){
    var sBox_element = document.getElementById("selection");
    var sBox_header = document.getElementById("selection_header")
    if(document.getElementById("selection_header_text").innerHTML != 'Show Options'){
        sBox_element.style.top = "-66px";
        sBox_header.style.top = "66px";
        document.getElementById("selection_header_text").innerHTML = "Show Options";
        setTimeout(function(){
            document.getElementById("selection_toggle").style.visibility = 'visible';
            document.getElementById("selection_toggle").style.opacity = '1';
        }, 200);
        
        
    }
    else{
        
        document.getElementById("selection_toggle").style.visibility = 'hidden';
        document.getElementById("selection_toggle").style.opacity = '0';
        setTimeout(function(){
            sBox_element.style.top = "100px";
            sBox_header.style.top = "-23px";
            document.getElementById("selection_header_text").innerHTML = "Choose an Option";
        }, 100);
    }
}

function create_rarity_list(rare_list){
    var nDiv = document.createElement('div');
    var D_height = 20 * rare_list.length + 50;
    var is_first = false;
    var nCont = document.createElement('div');
    
    nCont.id = "rare_list_cont";
    nDiv.id = "listings";
    nDiv.style.height = D_height + 'px';
    nCont.style.height = D_height + 'px';
    
    for(var index = 0;index < rare_list.length; index++){
        is_first = (index == 0);
        append_rare_list(rare_list[index], nCont, is_first);
    }
    
    nDiv.appendChild(nCont);
    document.body.appendChild(nDiv);
}

function append_rare_list(rarity, parent, is_first){
    var rarity_value = rarity;
    var nBox = document.createElement('div');
    nBox.id = "rare_" + rarity_value;
    nBox.className = "cost_panel_line";
    nBox.innerHTML = "Rarity: " + rarity_value;
    nBox.style.color = update_rare_color(rarity_value);
    nBox.style.border = "1px solid";
    nBox.style.borderColor = "chocolate";
    if(!is_first){
        nBox.style.borderTopStyle = "hidden";
    }
    
    nBox.onclick = function(){
        //document.getElementById("listings").style.opacity = "0";
        document.getElementById("rare_list_cont").style.visibility = "hidden";
        document.getElementById("rare_list_cont").style.opacity = "0";
        list_wpn_by_rarity(rarity_value);
        
        
        
    };
    parent.appendChild(nBox);
}

function reshow_listings(){
    
    if(document.getElementById("rare_list") != null){
        delete_rare_list();
        document.getElementById("rare_list_cont").style.visibility = "visible";
        document.getElementById("rare_list_cont").style.opacity = "1";
    }
    

}

function list_wpn_by_rarity(input_rarity){
    var working_tree = curr_selected_tree.slice();
    var wpn_list = [];
    
    var nBut = document.createElement('button');
    nBut.id = "rare_list_back_but";
    nBut.innerHTML = "Back";
    nBut.onclick = function(){
        reshow_listings();
    }
    
    
    
    for(var row = 0; row < working_tree.length; row +=2){
        for(var index = 0; index < working_tree[row].length; index++){
            if(working_tree[row][index].type == 'node'){
                if(working_tree[row][index].rarity == input_rarity)
                    wpn_list.push(working_tree[row][index]);
            }
            
        }
    }
    var formatted_arr = transpose_arr(wpn_list).slice();
    //console.log(output_arr);
    disp_Tree(formatted_arr, "rare_list", "listings");
    //document.getElementById("rare_list").style.opacity = "1";
    document.getElementById("rare_list").appendChild(nBut);
}

function transpose_arr(input_arr){
    var working_arr = input_arr.slice();
    var output_arr = [];
    
    for(var index = 0; index < working_arr.length; index++){
        output_arr.push([working_arr[index]]);
        if(index != working_arr.length - 1){
            output_arr.push([{type: 'blank'}]);
        }
        
    }
    
    return output_arr;
}

function getPos(el) {
    
    for (var lx=0, ly=0; el != null; lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent);
    return {x: lx,y: ly};
}

function move_info_box(x_coor, y_coor){
    document.getElementById("info_box").style.top = y_coor + 'px';
    document.getElementById("info_box").style.left = x_coor + 'px';
    
}

function create_name_list(){
    var nDiv = document.createElement('div');
    var nSel = document.createElement('select');
    var nOp = document.createElement('option');
    var nBut = document.createElement('button');
    
    nBut.id = "name_sel_but";
    nDiv.id = "names_cont";
    nSel.id = "name_list";
    nOp.id = "default_name_op";
    nOp.innerHTML = "Pick a Name";
    nBut.innerHTML = "Select";
    
    nBut.onclick = function(){
        var sel_coor = document.getElementById("name_list").value;
        disp_selected_name(sel_coor);  
    };
    
    nOp.value = "Empty";
    nSel.appendChild(nOp);;
    nDiv.appendChild(nSel);
    nDiv.appendChild(nBut);
    document.body.appendChild(nDiv);
}

function populate_name_list(){
    var working_arr = curr_selected_tree.slice();
    var list_of_names = [];
    var list_of_obj = [];
    
    for(var row = 0; row < working_arr.length; row += 2){
        for(var index = 0; index < working_arr[row].length; index++){
            if(working_arr[row][index].type == 'node'){
                var new_obj = {};
                new_obj["name"] = working_arr[row][index].name;
                new_obj["coor"] = [index, row];
                list_of_obj.push(new_obj);
                list_of_names.push(working_arr[row][index].name);
            }
        }
    }
    
    list_of_names.sort();
    fill_name_list(list_of_names, list_of_obj);
}

function fill_name_list(input_arr, obj_arr){
    var arr = input_arr.slice();
    var working_obj_arr = obj_arr.slice();
    var list = document.getElementById("name_list");
    
    for(var index = 0; index < arr.length; index++){
        var nOp = document.createElement('option');
        nOp.id = "name"+index;
        for(var i = 0; i < working_obj_arr.length; i++){
            if(arr[index] == working_obj_arr[i].name){
                nOp.value = working_obj_arr[i].coor;
            }
        }
        nOp.innerHTML = arr[index];
        
        list.appendChild(nOp);
    }
}

function disp_selected_name(tree_coordinates){
    var chosen_arr = tree_coordinates.split(",");
    var chosen_x = chosen_arr[0];
    var chosen_y = chosen_arr[1];
    var chosen_obj = Object.assign(curr_selected_tree[chosen_y][chosen_x]);
    
    var single_obj_tree = [[chosen_obj]];
    
    if(prev_sel_name != chosen_obj.name){
        
        if(document.getElementById("chosen_obj_disp") != null){
            delete_chosen_node();
        }           
        var nDiv = document.createElement('div');
        nDiv.id = "selected_name_display";
        document.getElementById("names_cont").appendChild(nDiv);
        prev_sel_name = chosen_obj.name;
        remove_info_box();
        selected_node = -1;
        disp_Tree(single_obj_tree, "chosen_obj_disp", "selected_name_display");
        
    }
    

    
    
}

function delete_chosen_node(){
    var display_node = document.getElementById("selected_name_display");
    if(display_node != null){
    document.getElementById("names_cont").removeChild(display_node);       
    }
    

}

function delete_name_list(){
    if(document.getElementById("names_cont") != null){
        var name_list_ele = document.getElementById("names_cont");
        document.body.removeChild(name_list_ele);
    }

}

function scroll_window(x, y){
    /*
    console.log(x, y)
    console.log(window.innerHeight, window.innerWidth);
    console.log(window.pageXOffset, window.pageYOffset);
    */
    var win_midX = window.pageXOffset + (window.innerWidth / 2);
    var win_midY = window.pageYOffset + (window.innerHeight / 2);
    
    var obj_midX = x + 50;
    var obj_midY = y + 50;
    
    var new_win_X = obj_midX - (window.innerWidth/2);
    var new_win_Y = obj_midY - (window.innerHeight/2);
    
    //console.log(new_win_X, new_win_Y);
    
    //window.scrollTo(new_win_X, new_win_Y);
    
    var i = window.pageXOffset;
    var j = window.pageYOffset;
    
    var x_inc = 10;
    var y_inc = 10;
    
    if(new_win_X < i){
        x_inc = -10;
    }
    
    if(new_win_Y < j){
        y_inc = -10;
    }
    
    var start_X = window.pageXOffset;
    var start_Y = window.pageYOffset;
    
    var int = setInterval(function() {
        window.scrollTo(start_X, start_Y);
        start_X += x_inc;
        start_Y += y_inc;
        if (start_X >= new_win_X && x_inc > 0){
            start_X = new_win_X;
            x_inc = 0;
        } 
        else if(start_X <= new_win_X && x_inc < 0){
            start_X = new_win_X;
            x_inc = 0;
        }
        
        if(start_Y >= new_win_Y && y_inc > 0 ){
            start_Y = new_win_Y;
            y_inc = 0;
        }
        else if(start_Y <= new_win_Y && y_inc < 0){
            start_Y = new_win_Y;
            y_inc = 0;
        }
        
        if(x_inc == 0 && y_inc == 0){
            clearInterval(int);
        }
    }, 1);
    
}

function reset_info_box(){
    if(selected_node != -1){
        var div_coor = Object.assign({},getPos(document.getElementById(selected_node)));
        move_info_box(div_coor.x - 60, div_coor.y - 60);
    }
    
}

function close_expanded_options(){
    document.getElementById("details_container").style.height = "0px";
    document.getElementById("details_container").style.visibility = "hidden";
    document.getElementById("details_container").style.opacity = "0";
}

document.getElementById("selection1").addEventListener("click", function(){
    if(prev_selection != 1){
        set_selection(1);
        
        if(curr_selected_option != ""){
            
            var rarity_list = [];
            var working_tree = curr_selected_tree.slice();



            for(var row = 0; row < working_tree.length; row +=2){
                for(var index = 0; index < working_tree[row].length; index++){
                    if(working_tree[row][index].type == 'node'){
                        if(rarity_list.indexOf(working_tree[row][index].rarity) == -1)
                            rarity_list.push(working_tree[row][index].rarity);
                    }

                }
            }

            rarity_list.sort(function(a, b){return a-b});
            create_rarity_list(rarity_list);
            toggle_selection_box();
            
        }
        
    }
    

    
});

document.getElementById("selection2").addEventListener("click", function(){
    if(prev_selection != 2){
        set_selection(2);

        if(curr_selected_option != ""){
            create_name_list();
            populate_name_list();
            toggle_selection_box();
        }

        
        
    }
    

    
});

document.getElementById("selection3").addEventListener("click", function(){
    if(prev_selection != 3){
        set_selection(3);
        var selected_tree = curr_selected_option;
        //document.getElementById("tree_header_bot").innerHTML = document.getElementById("tree_header_bot").innerHTML + " Tree";
        if (selected_tree != "Empty" && selected_tree != ""){
            delete_tree();
            disp_Tree(eval(selected_tree), "diagram", "content");
            toggle_selection_box();
        }
        
    }
    
});

document.getElementById("selection_header").addEventListener("click", function(){
    toggle_selection_box();
});

document.getElementById("selection_toggle").addEventListener("click", function(){
    document.getElementById("selection").style.visibility = "hidden";
    document.getElementById("selection").style.opacity = "0";
    document.getElementById("selection").style.right = '-100px';
    
    document.getElementById("disp_select_button").style.visibility = "visible";
    document.getElementById("disp_select_button").style.opacity = "1";
});

document.getElementById("disp_select_button").addEventListener("click", function(){
    document.getElementById("selection").style.visibility = "visible";
    document.getElementById("selection").style.opacity = "1";
    document.getElementById("selection").style.right = '0px';
    
    document.getElementById("disp_select_button").style.visibility = "hidden";
    document.getElementById("disp_select_button").style.opacity = "0";
});


document.getElementById("info_close").addEventListener("click", function(){
    document.getElementById(selected_node).style.borderColor = 'dimgray';
    remove_info_box();
    selected_node = -1;
   
});

document.getElementById("options_up_butt").addEventListener("click", function(){
    var ele = document.getElementById("options_containter");
    var ele_style = window.getComputedStyle(ele);
    var ele_top = parseInt(ele_style.getPropertyValue('top'));
    
    var new_ele_top = ele_top + 100;
    if(new_ele_top > 0){
        new_ele_top = 0
    }
    ele.style.top = new_ele_top + 'px';
});

document.getElementById("options_down_butt").addEventListener("click", function(){
    var ele = document.getElementById("options_containter");
    var ele_style = window.getComputedStyle(ele);
    var ele_top = parseInt(ele_style.getPropertyValue('top'));
    var new_ele_top = ele_top - 100;
    
    var top_value2 = document.getElementById("options_bottom").offsetTop;

    if((top_value2 + new_ele_top) < 0){
        new_ele_top = -1 * top_value2;
    }
    console.log(top_value2);
    console.log(new_ele_top);
    ele.style.top = new_ele_top + 'px';
});

document.getElementById("preview_lable").addEventListener("click", function(){
    var prev_lable = document.getElementById("preview_lable");
    
    if(prev_lable.innerHTML == "Preview"){
        toggle_page(5);
        
    }
    else{
        
        toggle_page(4);
    }
});

